<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>npm-scripts &gt; grunt | frankrowe.org</title>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/rss.xml"/>
    <link href='http://fonts.googleapis.com/css?family=Oxygen:400,300' rel='stylesheet' type='text/css'>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/default.min.css">
    <link rel="stylesheet" href="/css/style.css?v=1.0.16">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="topbar"></div>
    <div class="container">
    <div class="row">
      <div class="col-xs-12">
        <div class="contact-bar">
          <a href="/" class="marker"><img class="hvr-wobble-top" src="/img/locality-green2x.png" alt=""></a>
          <ul class="navigation">
            <li><a href="/">frankrowe.org</a></li>
            <li><a href="/about.html">About</a></li>
            <li><a href="/archive.html">Archive</a></li>
            <li><a href="https://twitter.com/fsrowe">Twitter</a></li>
            <li><a href="https://github.com/frankrowe">GitHub</a></li>
          </ul>
        </div>
      </div>
    </div>
      <div class="row">
        <div class="col-md-12">
<div id="19" class="post">
  <h2><a href="/posts/2016/03/01/build-scripts.html">npm-scripts &gt; grunt</a></h2>
  <p class="date">Mar 01, 2016
    <span class="post-link">
      <a href="/posts/2016/03/01/build-scripts.html"><i class="fa fa-link"></i></a>
    </span>
    <span class="tags">
        <a href="/tag/js.html">#js</a>
        <a href="/tag/css.html">#css</a>
        <a href="/tag/dev.html">#dev</a>
    </span>
  </p>
  <pre style="font-size: 11px;"><code class="js">"scripts": {
  "watch-css": "onchange 'style/*.less' -- npm run build-css",
  "watch-js": "watchify -t [ babelify --presets [ es2015 react ] ] js/*.jsx js/*.js -o dist/bundle.js -dv",
  "watch": "npm run watch-css & npm run watch-js",
  "build-css": "lessc --autoprefix='last 2 versions' style/main.less dist/style.css",
  "build-js": "browserify -t [ babelify --presets [ es2015 react ] ] js/*.jsx js/*.js -o dist/bundle.js",
  "build": "npm run build-css && npm run build-js"
}</code></pre>
<p>Reasons: simpler, less stuff to install, fewer files in your root, simpler, no plugins, same functionality, simpler.</p>
<p>Not only do you not need to install/maintain/update grunt, you don't need any of the grunt plugins. Instead of installing and updating grunt-browserify, grunt-less, etc, you just install the actual browserify package. You've just cut your dependencies in half.</p>
<p>Above is an example of what I use for a project with React, ES2015, and Less. I use <a href="https://github.com/substack/node-browserify">browserify</a> with a <a href="https://github.com/babel/babelify">babelify</a> transform to package my js + jsx modules, and <a href="https://github.com/substack/watchify">watchify</a> to do the same on file changes. I use <a href="https://github.com/less/less.js">less</a> to compile css from my main.less file, from which I import all other less files. <a href="https://github.com/Qard/onchange">onchange</a> enables us to watch for changes in your less files. You can then run <code>npm run build</code> to build your css/js, and <code>npm run watch</code> to recompile on changes during development.</p>
<p><a href="https://docs.npmjs.com/misc/scripts">npm-scripts</a> has lots of nice built in scripts and pre and post hooks that you can take advantage of. Bottom line, it's better to take advantage of your already existing package.json than add an entire new dependency to your project.</p>

</div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <div class="footer">
            <p><a href="/archive.html">View All Posts</a></p>
            <p>Follow on <a href="https://twitter.com/fsrowe">Twitter</a> or <a href="http://frankrowe.org/rss.xml">RSS</a></p>
            <p>Â©2016 Frank Rowe</p>
          </div>
        </div>
      </div>
    </div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-60186639-1', 'auto');
      ga('send', 'pageview');

    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad()</script>
  </body>
</html>
